<?xml version="1.0" encoding="UTF-8"?>
<!---->
<!--################################################################################       -->
<!--# Redfish Schema:  AMIManager  v1.0.0                                              -->
<!--#                                                                                      -->
<!--# Copyright American Megatrends, Inc. (AMI).                                           -->
<!--################################################################################       -->
<!---->
<edmx:Edmx xmlns:edmx="http://docs.oasis-open.org/odata/ns/edmx" Version="4.0">

  <edmx:Reference Uri="http://docs.oasis-open.org/odata/odata/v4.0/errata03/csd01/complete/vocabularies/Org.OData.Core.V1.xml">
    <edmx:Include Namespace="Org.OData.Core.V1" Alias="OData"/>
  </edmx:Reference>
  <edmx:Reference Uri="http://docs.oasis-open.org/odata/odata/v4.0/errata03/csd01/complete/vocabularies/Org.OData.Capabilities.V1.xml">
    <edmx:Include Namespace="Org.OData.Capabilities.V1" Alias="Capabilities"/>
  </edmx:Reference>
  <edmx:Reference Uri="http://redfish.dmtf.org/schemas/v1/ManagerNetworkProtocol_v1.xml">
    <edmx:Include Namespace="ManagerNetworkProtocol"/>
  </edmx:Reference>
  <edmx:DataServices>

    <Schema xmlns="http://docs.oasis-open.org/odata/ns/edm" Namespace="AMIManager">
      <Annotation Term="Redfish.OwningEntity" String="AMI"/>

      <ComplexType Name="AMIManager" Abstract="true">
        <Annotation Term="OData.Description" String="This schemas defines the properties and actions which is used in the Managers."/>
        <Annotation Term="OData.LongDescription" String="This schemas defines the properties and actions which is used in the Managers."/>
        <Annotation Term="Capabilities.InsertRestrictions">
          <Record>
            <PropertyValue Property="Insertable" Bool="false"/>
          </Record>
        </Annotation>
        <Annotation Term="Capabilities.UpdateRestrictions">
          <Record>
            <PropertyValue Property="Updatable" Bool="true"/>
          </Record>
        </Annotation>
        <Annotation Term="Capabilities.DeleteRestrictions">
          <Record>
            <PropertyValue Property="Deletable" Bool="false"/>
          </Record>
        </Annotation>
      </ComplexType>
      <Action Name="RedfishDBReset" IsBound="true">
        <Parameter Name="AMIManager" Type="AMIManager.v1_0_0.Actions"/>
        <Parameter Name="RedfishDBResetType" Type="Resource.RedfishDBResetType">
          <Annotation Term="OData.Description" String="The type of reset to be performed."/>
          <Annotation Term="OData.LongDescription" String="This parameter shall define the type of reset to be performed."/>
        </Parameter>
        <Annotation Term="OData.Description" String="This action is used to reset the Redis DataBase."/>
        <Annotation Term="OData.LongDescription" String="This action shall perform a reset Redis DataBase.  For systems which implement ACPI Power Button functionality, the PushPowerButton value shall perform or emulate an ACPI Power Button push.  The ResetAll value shall remove all the RedisDB keys from the database."/>
      </Action>
      <Action Name="ConfigureCDInstance" IsBound="true">
        <Parameter Name="AMIManager" Type="AMIManager.v1_0_0.Actions"/>
        <Parameter Name="CDInstance" Type="Resource.CDInstance">
          <Annotation Term="OData.Description" String="The number of CD instances supported for media redirection."/>
          <Annotation Term="OData.LongDescription" String="This parameter shall contain the CD instance count that are to be supported for CD media redirection. The value ranges from zero to four."/>
        </Parameter>
        <Annotation Term="OData.Description" String="This action is used to update the number of CD devices."/>
        <Annotation Term="OData.LongDescription" String="This action shall perform an update on number of CD devices that are to be supported for Media Redirection.The value ranges from zero to four. When the user set the CD instance value as four , then four CD media instances will be available for redirection."/>
      </Action>
      <Action Name="EnableRMedia" IsBound="true">
        <Parameter Name="AMIManager" Type="AMIManager.v1_0_0.Actions"/>
        <Parameter Name="RMediaState" Type="Edm.String">
          <Annotation Term="OData.Description" String="This resource shall be used to change the RMedia state."/>
          <Annotation Term="OData.LongDescription" String="This resource shall be used to change the RMedia state."/>
        </Parameter>
        <Annotation Term="OData.Description" String="This action allows to enable or disable the Remote Media settings."/>
        <Annotation Term="OData.LongDescription" String="This action allows to enable or disable the Remote Media settings. The Enable value shall enable the RMedia support.  The Disable value shall disable the RMedia support."/>
      </Action>
      <Action Name="RedfishPowerSaveMode" IsBound="true">
        <Parameter Name="AMIManager" Type="AMIManager.v1_0_0.Actions"/>
        <Parameter Name="PowerSaveMode" Type="Edm.String">
          <Annotation Term="OData.Description" String="This resource shall be used to update the power save mode."/>
          <Annotation Term="OData.LongDescription" String="This resource shall be used to update the power save mode."/>
        </Parameter>
        <Annotation Term="OData.Description" String="This action allows to enable or disable the power save mode."/>
        <Annotation Term="OData.LongDescription" String="This action allows to enable or disable the power save mode. The Enable value shall enable the power save mode.  The Disable value shall disable the power save mode."/>
      </Action>
    </Schema>
    <Schema xmlns="http://docs.oasis-open.org/odata/ns/edm" Namespace="AMIManager.v1_0_0">
        <Annotation Term="Redfish.OwningEntity" String="AMI"/>
        <ComplexType Name="AMIManager" BaseType="AMIManager.AMIManager">
	<Annotation Term="OData.Description" String="This is the schema definition for the AMIManager."/>
            <Property Name="ManagerServiceInfo"  Type="AMIManager.v1_0_0.ManagerServiceInfo"  Nullable="false">
                <Annotation Term="OData.Permissions" EnumMember="OData.Permission/Read"/>
                <Annotation Term="OData.Description" String="Indicates the properties related to ManagerServiceInfo"/>
                <Annotation Term="OData.LongDescription" String="Indicates the properties related to ManagerServiceInfo"/>
	    </Property>
            <Property Name="VirtualMedia"  Type="AMIManager.v1_0_0.VirtualMedia"  Nullable="false">
                <Annotation Term="OData.Permissions" EnumMember="OData.Permission/Read"/>
                <Annotation Term="OData.Description" String="Indicates the properties related to VirtualMedia"/>
                <Annotation Term="OData.LongDescription" String="Indicates the properties related to VirtualMedia"/>
            </Property>
            <Property Name="PowerSaveMode" Type="AMIManager.v1_0_0.PowerSaveMode" Nullable="false">
              <Annotation Term="OData.Permissions" EnumMember="OData.Permission/ReadWrite"/>
              <Annotation Term="OData.Description" String="The PowerSave mode is used to disable USB-Interfaces - When power save is on USB ifaces will be disabled."/>
              <Annotation Term="OData.LongDescription" String="PowerSave mode is used to disable USB-Interfaces - When power save is on USB ifaces will be disabled."/>
            </Property>
            <Property Name="Actions" Type="AMIManager.v1_0_0.Actions" Nullable="false">
              <Annotation Term="OData.Description" String="The available actions for this Resource."/>
              <Annotation Term="OData.LongDescription" String="The actions property shall contain the available actions for this Resource."/>
            </Property>
        </ComplexType>
        <ComplexType Name="Actions">
          <Annotation Term="OData.AdditionalProperties" Bool="true"/>
          <Annotation Term="OData.Description" String="The available  actions for this Resource."/>
          <Annotation Term="OData.LongDescription" String="This type shall contain the available actions for this Resource."/>
	</ComplexType>
	<ComplexType Name="ManagerServiceInfo" Abstract="true">
        <Property Name="CommandShellServiceInfo" Type="AMIManager.v1_0_0.CommandShellServiceInfo">
            <Annotation Term="OData.Permissions" EnumMember="OData.Permission/Read"/>
          <Annotation Term="OData.Description" String="This property shall specify the command shell properties command that this manager provides."/>
          <Annotation Term="OData.LongDescription" String="This property shall specify the command shell properties command that this manager provides."/>
          </Property>
        <Property Name="Links" Type="AMIManager.v1_0_0.Links" Nullable="true">
			<Annotation Term="OData.Description" String="This link provides the information related to inventory data."/>
		</Property>
        </ComplexType>
	<ComplexType Name="Links" >
		<NavigationProperty Name="NetworkProtocol" Type="ManagerNetworkProtocol.ManagerNetworkProtocol" ContainsTarget="true" Nullable="false">
    	<Annotation Term="OData.Permissions" EnumMember="OData.Permission/Read"/>
    	<Annotation Term="OData.Description" String="The link to the network services and their settings that the manager controls."/>
    	<Annotation Term="OData.LongDescription" String="This property shall contain a link to a resource of type ManagerNetworkProtocol, which represents the network services for this manager."/>
    	<Annotation Term="OData.AutoExpandReferences"/>
    	</NavigationProperty>
	</ComplexType>
	<ComplexType Name="CommandShellServiceInfo">
        <Property Name="SSH" Type="AMIManager.v1_0_0.SSH">
          <Annotation Term="OData.Description" String="The settings for this manager's SSH MaxConcurrentSessions support."/>
          </Property>
          <Property Name="IPMI" Type="AMIManager.v1_0_0.IPMI">
          <Annotation Term="OData.Description" String="The settings for this manager's IPMI MaxConcurrentSessions support."/>
          </Property>
    </ComplexType>
		<ComplexType Name="SSH">
        <Property Name="MaxConcurrentSessions" Type="Edm.Int64" Nullable="false"/>
        </ComplexType>
		<ComplexType Name="IPMI">
        <Property Name="MaxConcurrentSessions" Type="Edm.Int64" Nullable="false"/>
        </ComplexType>
        <ComplexType Name="VirtualMedia" Abstract="true">
          <Property Name="CDInstances" Type="Edm.Int64">
            <Annotation Term="OData.Permissions" EnumMember="OData.Permission/Read"/>
            <Annotation Term="OData.Description" String="This property shall specify the number of CD instances available for redirection"/>
            <Annotation Term="OData.LongDescription" String="This property shall specify the number of CD instances available for redirection"/>
          </Property> 
          <Property Name="RMediaStatus" Type="AMIManager.v1_0_0.RMediaStatus">
            <Annotation Term="OData.Permissions" EnumMember="OData.Permission/Read"/>
            <Annotation Term="OData.Description" String="This property shall specify the status of Remote Media Settings"/>
            <Annotation Term="OData.LongDescription" String="This property shall specify the status of Remote Media Settings"/>
          </Property>        
        </ComplexType>
        <EnumType Name="PowerSaveMode">
              <Member Name="Enable">
                <Annotation Term="OData.Description" String="Enable Power Save Mode."/>
                <Annotation Term="OData.LongDescription" String="Enable Power Save Mode."/>
              </Member>
              <Member Name="Disable">
                <Annotation Term="OData.Description" String="Disable Power Save Mode."/>
                <Annotation Term="OData.LongDescription" String="Disable Power Save Mode."/>
              </Member>
        </EnumType>
        <EnumType Name="RMediaStatus">
          <Member Name="Enabled">
            <Annotation Term="OData.Description" String="RMedia support is enabled"/>
          </Member>
          <Member Name="Disabled">
            <Annotation Term="OData.Description" String="RMedia support is disabled"/>
          </Member>
        </EnumType>
    </Schema>
  </edmx:DataServices>
</edmx:Edmx>

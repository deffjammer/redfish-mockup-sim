<?xml version="1.0" encoding="UTF-8"?>
<!---->
<!--################################################################################       -->
<!--# Redfish OEM Schema:  NvidiaManager  v1.0.0                                -->
<!--#                                                                                      -->
<!--# Copyright 2021-2022 NVIDIA.                                                          -->
<!--# For the full NVIDIA copyright policy, see LICENSE.md                                 -->
<!--################################################################################       -->
<!---->
<edmx:Edmx xmlns:edmx="http://docs.oasis-open.org/odata/ns/edmx" Version="4.0">

  <edmx:Reference Uri="http://docs.oasis-open.org/odata/odata/v4.0/errata03/csd01/complete/vocabularies/Org.OData.Core.V1.xml">
    <edmx:Include Namespace="Org.OData.Core.V1" Alias="OData"/>
  </edmx:Reference>
  <edmx:Reference Uri="http://redfish.dmtf.org/schemas/v1/RedfishExtensions_v1.xml">
    <edmx:Include Namespace="RedfishExtensions.v1_0_0" Alias="Redfish"/>
  </edmx:Reference>
  <edmx:Reference Uri="http://redfish.dmtf.org/schemas/v1/Resource_v1.xml">
    <edmx:Include Namespace="Resource"/>
  </edmx:Reference>
  <edmx:Reference Uri="http://docs.oasis-open.org/odata/odata/v4.0/errata03/csd01/complete/vocabularies/Org.OData.Measures.V1.xml">
    <edmx:Include Namespace="Org.OData.Measures.V1" Alias="Measures"/>
  </edmx:Reference>
  <edmx:Reference Uri="http://redfish.dmtf.org/schemas/v1/RedfishExtensions_v1.xml">
    <edmx:Include Namespace="Validation.v1_0_0" Alias="Validation"/>
  </edmx:Reference>
  <edmx:Reference Uri="http://redfish.dmtf.org/schemas/v1/Manager_v1.xml">
    <edmx:Include Namespace="Manager.v1_0_0"/>
  </edmx:Reference>

  <edmx:DataServices>

    <Schema xmlns="http://docs.oasis-open.org/odata/ns/edm" Namespace="NvidiaManager">
      <Annotation Term="Redfish.OwningEntity" String="NVIDIA"/>

      <Action Name="ResetToDefaults" IsBound="true">
        <Annotation Term="OData.Description" String="The reset action resets the manager settings to factory defaults as specified by NVIDIA."/>
        <Annotation Term="OData.LongDescription" String="This action shall reset the manager settings to factory defaults as specified by NVIDIA.  This action will delete all log entries and diagnostic data."/>
        <Parameter Name="NvidiaManager" Type="Manager.v1_0_0.OemActions"/>
      </Action>
      <Action Name="SyncOOBRawCommand" IsBound="true">
        <Annotation Term="OData.Description" String="This action is used to invoke a synchronous command defined in SMBPBI specification."/>
        <Annotation Term="OData.LongDescription" String="This action shall invoke a synchronous command defined in SMBPBI specification."/>
        <Parameter Name="NvidiaManager" Type="Manager.v1_0_0.OemActions"/>
        <Parameter Name="TargetType" Type="NvidiaManager.v1_0_0.OOBRawCommandTargetType" Nullable="false">
          <Annotation Term="OData.Description" String="The type of the target."/>
          <Annotation Term="OData.LongDescription" String="This parameter shall contain the type of the target."/>
        </Parameter>
        <Parameter Name="TargetInstanceId" Type="Edm.Int64">
          <Annotation Term="OData.Description" String="The instance ID of the target."/>
          <Annotation Term="OData.LongDescription" String="This parameter shall contain the instance ID of the target."/>
        </Parameter>
        <Parameter Name="Opcode" Type="Edm.String" Nullable="false">
          <Annotation Term="OData.Description" String="Opcode defined in SMBPBI specification."/>
          <Annotation Term="OData.LongDescription" String="This parameter shall contain the Opcode defined in SMBPBI specification."/>
        </Parameter>
        <Parameter Name="Arg1" Type="Edm.String">
          <Annotation Term="OData.Description" String="Arg1 defined in SMBPBI specification."/>
          <Annotation Term="OData.LongDescription" String="This parameter shall contain the Arg1 defined in SMBPBI specification."/>
        </Parameter>
        <Parameter Name="Arg2" Type="Edm.String">
          <Annotation Term="OData.Description" String="Arg2 defined in SMBPBI specification."/>
          <Annotation Term="OData.LongDescription" String="This parameter shall contain the Arg2 defined in SMBPBI specification."/>
        </Parameter>
        <Parameter Name="DataIn" Type="Collection(Edm.String)">
          <Annotation Term="OData.Description" String="Data-In defined in SMBPBI specification."/>
          <Annotation Term="OData.LongDescription" String="This parameter shall contain the Data-In defined in SMBPBI specification."/>
        </Parameter>
        <Parameter Name="ExtDataIn" Type="Collection(Edm.String)">
          <Annotation Term="OData.Description" String="Extended Data arguments defined in SMBPBI specification."/>
          <Annotation Term="OData.LongDescription" String="This parameter shall contain the Extended Data arguments defined in SMBPBI specification."/>
        </Parameter>
        <ReturnType Type="NvidiaManager.v1_0_0.SyncOOBRawCommandResponse" Nullable="false"/>
      </Action>
      <Action Name="AsyncOOBRawCommand" IsBound="true">
        <Annotation Term="OData.Description" String="This action is used to invoke an asynchronous command defined in SMBPBI specification."/>
        <Annotation Term="OData.LongDescription" String="This action shall invoke an asynchronous command defined in SMBPBI specification."/>
        <Parameter Name="NvidiaManager" Type="Manager.v1_0_0.OemActions"/>
        <Parameter Name="TargetType" Type="NvidiaManager.v1_0_0.OOBRawCommandTargetType" Nullable="false">
          <Annotation Term="OData.Description" String="The type of the target."/>
          <Annotation Term="OData.LongDescription" String="This parameter shall contain the type of the target."/>
        </Parameter>
        <Parameter Name="TargetInstanceId" Type="Edm.Int64" Nullable="false">
          <Annotation Term="OData.Description" String="The instance ID of the target."/>
          <Annotation Term="OData.LongDescription" String="This parameter shall contain the instance ID of the target."/>
        </Parameter>
        <Parameter Name="AsyncArg1" Type="Edm.String" Nullable="false">
          <Annotation Term="OData.Description" String="Arg1 of an asynchronous command defined in SMBPBI specification."/>
          <Annotation Term="OData.LongDescription" String="This parameter shall contain the Arg1 of an asynchronous command defined in SMBPBI specification."/>
        </Parameter>
        <Parameter Name="AsyncDataIn" Type="Collection(Edm.String)">
          <Annotation Term="OData.Description" String="The input data of an asynchronous command defined in SMBPBI specification."/>
          <Annotation Term="OData.LongDescription" String="This parameter shall contain the input data of an asynchronous command defined in SMBPBI specification."/>
        </Parameter>
        <Parameter Name="RequestedDataOutBytes" Type="Edm.Int64" Nullable="false">
          <Annotation Term="OData.Description" String="The requested bytes of output data for an asynchronous command defined in SMBPBI specification."/>
          <Annotation Term="OData.LongDescription" String="This parameter shall contain the requested bytes of output data for an asynchronous command defined in SMBPBI specification."/>
        </Parameter>
        <ReturnType Type="NvidiaManager.v1_0_0.AsyncOOBRawCommandResponse" Nullable="false"/>
      </Action>
    </Schema>

    <Schema xmlns="http://docs.oasis-open.org/odata/ns/edm" Namespace="NvidiaManager.v1_0_0">
      <Annotation Term="Redfish.OwningEntity" String="NVIDIA"/>

      <ComplexType Name="NvidiaManager">
        <Property Name="FirmwareBuildType" Type="NvidiaManager.v1_0_0.FirmwareBuildType">
          <Annotation Term="OData.Permissions" EnumMember="OData.Permission/Read"/>
          <Annotation Term="OData.Description" String="The build type of the firmware associated with the manager."/>
          <Annotation Term="OData.LongDescription" String="This property shall indicate the build type of the firmware associated with the manager."/>
        </Property>
        <Property Name="OTPProvisioned" Type="Edm.Boolean">
          <Annotation Term="OData.Permissions" EnumMember="OData.Permission/Read"/>
          <Annotation Term="OData.Description" String="An indication of whether OTP of the manager has been provisioned."/>
          <Annotation Term="OData.LongDescription" String="This property shall indicate whether OTP of the manager has been provisioned."/>
        </Property>
        <Property Name="SMBPBIFencingPrivilege" Type="NvidiaManager.v1_0_0.SMBPBIFencingPrivilege">
          <Annotation Term="OData.Permissions" EnumMember="OData.Permission/ReadWrite"/>
          <Annotation Term="OData.Description" String="The SMBPBI fencing privilege."/>
          <Annotation Term="OData.LongDescription" String="This property shall contain the SMBPBI fencing privilege."/>
        </Property>
        <Property Name="AuthenticationTLSRequired" Type="Edm.Boolean">
          <Annotation Term="OData.Permissions" EnumMember="OData.Permission/ReadWrite"/>
          <Annotation Term="OData.Description" String="An indication of whether authentication and TLS are required for the service provided by this manager."/>
          <Annotation Term="OData.LongDescription" String="The value of this property shall indicate whether authentication and TLS are required for the service provided by this manager, where a value `false` shall indicate that the service does not require authentication and TLS for all resources.  The default value is `false`.  Once it is set to `true`, the service shall not allow this value to be overwritten."/>
        </Property>
        <Property Name="RedundancyChannelUsed" Type="NvidiaManager.v1_0_0.RedundancySupportedResource">
          <Annotation Term="OData.Description" String="The settings of resources that allow client to use a redundancy channel to communicate."/>
          <Annotation Term="OData.LongDescription" String="This property shall contain the settings of resources that allow client to use a redundancy channel to communicate."/>
        </Property>
      </ComplexType>

      <ComplexType Name="RedundancySupportedResource">
        <Property Name="UpdateService" Type="Edm.Boolean">
          <Annotation Term="OData.Permissions" EnumMember="OData.Permission/ReadWrite"/>
          <Annotation Term="OData.Description" String="Indicates whether the UpdateService resource is configured to use a redundancy channel."/>
          <Annotation Term="OData.LongDescription" String="This property shall indicate whether the UpdateService resource is configured to use a redundancy channel.  The default shall be false."/>
        </Property>
        <Property Name="ComponentIntegrity" Type="Edm.Boolean">
          <Annotation Term="OData.Permissions" EnumMember="OData.Permission/ReadWrite"/>
          <Annotation Term="OData.Description" String="Indicates whether the ComponentIntegrity resource is configured to use a redundancy channel."/>
          <Annotation Term="OData.LongDescription" String="This property shall indicate whether the ComponentIntegrity resource is configured to use a redundancy channel.  The default shall be false."/>
        </Property>
      </ComplexType>

      <ComplexType Name="SyncOOBRawCommandResponse">
        <Annotation Term="OData.AdditionalProperties" Bool="false"/>
        <Annotation Term="OData.Description" String="The response from a synchronous raw command defined in SMBPBI specification."/>
        <Annotation Term="OData.LongDescription" String="This object shall contain the response from a synchronous raw command defined in SMBPBI specification."/>
        <Property Name="StatusRegister" Type="Collection(Edm.String)">
          <Annotation Term="OData.Permissions" EnumMember="OData.Permission/Read"/>
          <Annotation Term="OData.Description" String="Status Register defined in SMBPBI specification."/>
          <Annotation Term="OData.LongDescription" String="This property shall contain the Status Register defined in SMBPBI specification."/>
          <Annotation Term="Redfish.Required"/>
        </Property>
        <Property Name="DataOut" Type="Collection(Edm.String)">
          <Annotation Term="OData.Permissions" EnumMember="OData.Permission/Read"/>
          <Annotation Term="OData.Description" String="Data-Out defined in SMBPBI specification."/>
          <Annotation Term="OData.LongDescription" String="This property shall contain the Data-Out defined in SMBPBI specification."/>
        </Property>
        <Property Name="ExtDataOut" Type="Collection(Edm.String)">
          <Annotation Term="OData.Permissions" EnumMember="OData.Permission/Read"/>
          <Annotation Term="OData.Description" String="Extended Data-Out defined in SMBPBI specification."/>
          <Annotation Term="OData.LongDescription" String="This property shall contain the Extended Data-Out defined in SMBPBI specification."/>
        </Property>
      </ComplexType>

      <ComplexType Name="AsyncOOBRawCommandResponse">
        <Annotation Term="OData.AdditionalProperties" Bool="false"/>
        <Annotation Term="OData.Description" String="The response from an asynchronous raw command defined in SMBPBI specification."/>
        <Annotation Term="OData.LongDescription" String="This object shall contain the response from an asynchronous raw command defined in SMBPBI specification."/>
        <Property Name="StatusRegister" Type="Collection(Edm.String)">
          <Annotation Term="OData.Permissions" EnumMember="OData.Permission/Read"/>
          <Annotation Term="OData.Description" String="Status Register defined in SMBPBI specification."/>
          <Annotation Term="OData.LongDescription" String="This property shall contain the Status Register defined in SMBPBI specification."/>
          <Annotation Term="Redfish.Required"/>
        </Property>
        <Property Name="DataOut" Type="Collection(Edm.String)">
          <Annotation Term="OData.Permissions" EnumMember="OData.Permission/Read"/>
          <Annotation Term="OData.Description" String="Data-Out defined in SMBPBI specification."/>
          <Annotation Term="OData.LongDescription" String="This property shall contain the Data-Out defined in SMBPBI specification."/>
        </Property>
        <Property Name="AsyncDataOut" Type="Collection(Edm.String)">
          <Annotation Term="OData.Permissions" EnumMember="OData.Permission/Read"/>
          <Annotation Term="OData.Description" String="The output data of an asynchronous command defined in SMBPBI specification."/>
          <Annotation Term="OData.LongDescription" String="This property shall contain the output data of an asynchronous command defined in SMBPBI specification."/>
        </Property>
      </ComplexType>

      <EnumType Name="FirmwareBuildType">
        <Member Name="ProvisioningDebug">
          <Annotation Term="OData.Description" String="The firmware includes software to provision the debug OTP keys and is signed with debug keys."/>
        </Member>
        <Member Name="ProvisioningProduction">
          <Annotation Term="OData.Description" String="The firmware includes software to provision the production OTP keys and is signed with production keys."/>
        </Member>
        <Member Name="PlatformDebug">
          <Annotation Term="OData.Description" String="The firmware doesn't include OTP provisioning software and is signed with debug keys."/>
        </Member>
        <Member Name="PlatformProduction">
          <Annotation Term="OData.Description" String="The firmware doesn't include OTP provisioning software and is signed with production keys."/>
        </Member>
      </EnumType>

      <EnumType Name="SMBPBIFencingPrivilege">
        <Member Name="HMC">
          <Annotation Term="OData.Description" String="HMC has SMBPBI privilege."/>
        </Member>
        <Member Name="HostBMC">
          <Annotation Term="OData.Description" String="Host BMC has SMBPBI privilege."/>
        </Member>
        <Member Name="None">
          <Annotation Term="OData.Description" String="No host has SMBPBI privilege."/>
        </Member>
      </EnumType>

      <EnumType Name="OOBRawCommandTargetType">
        <Member Name="GPU">
          <Annotation Term="OData.Description" String="The target is GPU."/>
        </Member>
        <Member Name="NVSwitch">
          <Annotation Term="OData.Description" String="The target is NVSwitch."/>
        </Member>
        <Member Name="Baseboard">
          <Annotation Term="OData.Description" String="The target is Baseboard."/>
        </Member>
      </EnumType>

    </Schema>

  </edmx:DataServices>
</edmx:Edmx>
